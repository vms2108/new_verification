
<div class="form">
  <div class="form__body">
    <h2 class="form__title">
      Идентификация пользователя
      <span *ngIf="user && user.info">
        {{ user.info.name }}
        {{ user.info.surname }}
      </span>
    </h2>

    <div>
      <div
        class="form-group"
        *ngFor="let section of sections"
        [formGroup]="section">
        <div class="form-group__header">
          <app-toggle class="form-group__state" formControlName="state" *ngIf="!section.get('onlyRead').value"></app-toggle>
          <h3 class="form-group__title">{{ section.get('title').value }}</h3>
        </div>
        <div class="form__fieldgroup" *ngFor="let fieldgroup of section.fields">
          <app-field
            *ngFor="let field of fieldgroup"
            class="form__field"
            [toggleNone]="false"
            [field]="field">
          </app-field>
        </div>
      </div>
    </div>

    <div class="form__buttons">
      <div class="form__buttons-group">
        <button
          mat-raised-button
          class="form__button form__button--pass"
          (click)="openDialog(true)"
          *ngIf="approved">
          Идентификация пройдена
        </button>
        <button
          mat-raised-button
          class="form__button form__button--delete"
          *ngIf="!approved"
          (click)="openDialog(false)" >
          Идентификация не пройдена
        </button>
      </div>
    </div>
  </div>
</div>
